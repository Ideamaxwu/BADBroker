drop dataverse emergencyTest if exists;
create dataverse emergencyTest;
use dataverse emergencyTest;


create type EmergencyReport as {
	"id":uuid,
	"emergencyType":string,
	"impactZone":circle,
	"message":string,
	"severity":int,
	"timestamp":datetime,
	"expirationTime":datetime
}

create type UserLocation as {
	"id":uuid,
	"user-id":int,
	"location":point,
	"timestamp":datetime
}

create type EmergencyShelter as {
	"id":uuid,
	"name":string,
	"location":point
}

create dataset EmergencyShelters(EmergencyShelter)
primary key id autogenerated;
create dataset UserLocations(UserLocation)
primary key id autogenerated;
create dataset EmergencyReports(EmergencyReport)
primary key id autogenerated;

load dataset EmergencyShelters using localfs
(("path"="localhost:////home/msarwaru/Dropbox/BAD/BAD-Broker/simpledataset/EmergencyShelter.adm"),("format"="adm"));

load dataset UserLocations using localfs
(("path"="nc1:///Users/stevenjacobs/Desktop/UserLocations.adm"),("format"="adm"));

load dataset EmergencyReports using localfs
(("path"="nc1:///Users/stevenjacobs/Desktop/EmergencyReports.adm"),("format"="adm"));
